<ion-header>
  <ion-navbar>
    <ion-buttons left>
        <ion-icon name="funnel" class="icons"></ion-icon>
    </ion-buttons>
    <ion-title (click)="pipelineSelect = !pipelineSelect; dim = !dim">{{title}} <ion-icon name="arrow-down"></ion-icon></ion-title>
    <ion-buttons end>
      <div (click)="openAddModal()">
        <ion-icon name="add" class="icons"></ion-icon>
      </div>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="dimmer" [ngClass]="{dimmerActive: dim}" (click)="dim = false; pipelineSelect = false"></div>
  <div *ngIf="pipelineSelect" class="choosePipe" [@fadeInOut]>
     <div (click)="leadsPipe(); pipelineSelect = false; dim=false">
       Leads
     </div>
     <div (click)="enrollmentsPipe(); pipelineSelect = false; dim=false">
       Enrollments
     </div>
     <div (click)="retentionPipe(); pipelineSelect = false; dim=false">
       Retention
     </div>
  </div>
  <ion-slides [options]="{pager:true}" #pipeSlider>
    <ion-slide *ngFor="let slide of slides" class="slides">
      <div class="arrow">
        <div class="position">{{slide.name}}</div>
        <div class="rightArrow"></div>
      </div>
      <div class="prospects">
        <div *ngFor="let prospect of prospects | filter: slide" (click)="openModal(prospect.contact)">
        <div class="prospect">{{prospect.contact.first_name}} <div class="smallCircle" [style.background-color]="dotColor(prospect.contact.actions_status)"></div></div>
        <div class="line"></div>
        </div>
      </div>
    </ion-slide>
  </ion-slides>
</ion-content>